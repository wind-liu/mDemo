{"version":3,"sources":["../../server/api.js"],"names":["models","require","express","router","Router","all","req","res","next","post","newAccount","Login","account","body","password","save","err","data","send","get","find","module","exports"],"mappings":";;AAAA;AACA,IAAMA,SAASC,QAAQ,MAAR,CAAf;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;AACA,IAAME,SAASD,QAAQE,MAAR,EAAf;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCA;AACD,CAFD;AAGA;AACAL,OAAOM,IAAP,CAAY,0BAAZ,EAAuC,UAACH,GAAD,EAAKC,GAAL,EAAa;AAClD;AACA,MAAIG,aAAa,IAAIV,OAAOW,KAAX,CAAiB;AAChCC,aAAUN,IAAIO,IAAJ,CAASD,OADa;AAEhCE,cAAWR,IAAIO,IAAJ,CAASC;AAFY,GAAjB,CAAjB;AAIA;AACAJ,aAAWK,IAAX,CAAgB,UAACC,GAAD,EAAKC,IAAL,EAAc;AAC5B,QAAID,GAAJ,EAAS;AACPT,UAAIW,IAAJ,CAASF,GAAT;AACD,KAFD,MAEO;AACLT,UAAIW,IAAJ,CAAS,yBAAT;AACD;AACF,GAND;AAOD,CAdD;AAeA;AACAf,OAAOgB,GAAP,CAAW,uBAAX,EAAmC,UAACb,GAAD,EAAKC,GAAL,EAAa;AAC9C;AACAP,SAAOW,KAAP,CAAaS,IAAb,CAAkB,UAACJ,GAAD,EAAKC,IAAL,EAAc;AAC9B,QAAID,GAAJ,EAAS;AACPT,UAAIW,IAAJ,CAASF,GAAT;AACD,KAFD,MAEO;AACLT,UAAIW,IAAJ,CAASD,IAAT;AACD;AACF,GAND;AAOD,CATD;;AAWAI,OAAOC,OAAP,GAAiBnB,MAAjB","file":"api.js","sourcesContent":["// 可能是我的node版本问题，不用严格模式使用ES6语法会报错\nconst models = require('./db');\nconst express = require('express');\nconst router = express.Router();\n\n/************** 创建(create) 读取(get) 更新(update) 删除(delete) **************/\nrouter.all(\"*\", function(req, res, next) {\n  next()\n})\n// 创建账号接口\nrouter.post('/api/login/createAccount',(req,res) => {\n  // 这里的req.body能够使用就在index.js中引入了const bodyParser = require('body-parser')\n  let newAccount = new models.Login({\n    account : req.body.account,\n    password : req.body.password\n  });\n  // 保存数据newAccount数据进mongoDB\n  newAccount.save((err,data) => {\n    if (err) {\n      res.send(err);\n    } else {\n      res.send('createAccount successed');\n    }\n  });\n});\n// 获取已有账号接口\nrouter.get('/api/login/getAccount',(req,res) => {\n  // 通过模型去查找数据库\n  models.Login.find((err,data) => {\n    if (err) {\n      res.send(err);\n    } else {\n      res.send(data);\n    }\n  });\n});\n\nmodule.exports = router;\n"]}